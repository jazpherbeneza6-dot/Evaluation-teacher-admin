rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    // Professors collection - allow read/write for admin operations
    match /professors/{professorId} {
      allow read, write: if true; // Temporarily allow unauthenticated access
    }
    
    // Evaluation Deadlines collection - allow read/write for admin operations
    match /evaluation_deadlines/{deadlineId} {
      allow read, write: if true; // Allow unauthenticated access for admin dashboard
    }
    
    // Evaluation Results collection - allow read/write for student submissions
    match /evaluation_results/{resultId} {
      allow read, write: if true; // Allow unauthenticated access for student submissions
    }
    
    // Departments collection - allow read/write for admin operations
    match /departments/{departmentId} {
      allow read, write: if true; // Temporarily allow unauthenticated access
    }
    
    // Evaluations collection - allow read/write for authenticated users (admin dashboard needs this)
    match /evaluations/{evalId} {
      allow read, write: if true; // Temporarily allow unauthenticated access
    }
    
    // Users collection - allow admin operations for student management
    match /users/{userId} {
      // Allow read/write for admin operations (temporarily open for development)
      allow read, write: if true;
      
      // Future: Add proper authentication rules when user auth is implemented
      // allow read, write: if request.auth != null && 
      //                    (request.auth.token.role == 'admin' || 
      //                     (request.auth.token.role == 'student' && userId == request.auth.uid));
    }
    
    // Courses collection - read-only for authenticated users
    match /courses/{courseId} {
      allow read: if true; // Allow unauthenticated read access
    }
    
    // Teachers collection - read-only for authenticated users
    match /teachers/{teacherId} {
      allow read: if true; // Allow unauthenticated read access
    }
    
    // Evaluation Questions collection - allow read/write for admin operations
    match /evaluation_questions/{questionId} {
      allow read, write: if true; // Allow unauthenticated access for admin dashboard
    }
    
    // Posts collection - allow read/write for admin operations
    match /posts/{postId} {
      allow read, write: if true; // Allow unauthenticated access for admin dashboard
    }
  }
}

---------------------------------------------------------------------------------------

rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    // Professors collection - allow read/write for admin operations
    match /professors/{professorId} {
      allow read, write: if true; // Temporarily allow unauthenticated access
    }
    
    // Evaluation Deadlines collection - allow read/write for admin operations
    match /evaluation_deadlines/{deadlineId} {
      allow read, write: if true; // Allow unauthenticated access for admin dashboard
    }
    
    // Evaluation Results collection - allow read/write for student submissions
    match /evaluation_results/{resultId} {
      allow read, write: if true; // Allow unauthenticated access for student submissions
    }
    
    // Departments collection - allow read/write for admin operations
    match /departments/{departmentId} {
      allow read, write: if true; // Temporarily allow unauthenticated access
    }
    
     match /evaluation_results/{resultId} {
      allow read, write: if true; // Allow unauthenticated access for submissions
    }
    
    // Evaluations collection - allow read/write for authenticated users (admin dashboard needs this)
    match /evaluations/{evalId} {
      allow read, write: if true; // Temporarily allow unauthenticated access
    }
    
    // Users collection - allow admin operations for student management
    match /users/{userId} {
      // Allow read/write for admin operations (temporarily open for development)
      allow read, write: if true;
      
      // Future: Add proper authentication rules when user auth is implemented
      // allow read, write: if request.auth != null && 
      //                    (request.auth.token.role == 'admin' || 
      //                     (request.auth.token.role == 'student' && userId == request.auth.uid));
    }
    
    // Courses collection - read-only for authenticated users
    match /courses/{courseId} {
      allow read: if true; // Allow unauthenticated read access
    }
    
    // Teachers collection - read-only for authenticated users
    match /teachers/{teacherId} {
      allow read: if true; // Allow unauthenticated read access
    }
    
    // Evaluation Questions collection - allow read/write for admin operations
    match /evaluation_questions/{questionId} {
      allow read, write: if true; // Allow unauthenticated access for admin dashboard
    }
    
    // Posts collection - allow read/write for admin operations
    match /posts/{postId} {
      allow read, write: if true; // Allow unauthenticated access for admin dashboard
    }
  }
}
